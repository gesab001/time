<!DOCTYPE HTML>
<html>
<head>
  <title>Time</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
 <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<link rel="apple-touch-icon" href="https://raw.githubusercontent.com/gesab001/assets/master/images/app-icons/time/icon-192x192.png">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-startup-image" href="https://raw.githubusercontent.com/gesab001/assets/master/images/app-icons/time/icon-192x192.png">
<meta name="apple-mobile-web-app-title" content="Time">
<link rel="icon" type="image/x-icon" href="./favicon.ico">
<link rel="manifest" href="./manifest.json" />
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
 <script src="https://unpkg.com/react@16/umd/react.production.min.js"></script>
  <script src="https://unpkg.com/react-dom@16/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"></script>
  <script src="newyear.js"></script>
<script
  async
  src="https://unpkg.com/pwacompat"
  crossorigin="anonymous"></script>
<script>
   if('serviceWorker' in navigator) {
   navigator.serviceWorker.register('./sw.js', { scope: '/' })
    .then(function(registration) {
     var serviceWorker;
     if (registration.installing) {
       serviceWorker = registration.installing;
     } else if (registration.waiting) {
       serviceWorker = registration.waiting;
     } else if (registration.active) {
       serviceWorker = registration.active;
     }

     if (serviceWorker) {
       console.log("ServiceWorker phase:", serviceWorker.state);

       serviceWorker.addEventListener('statechange', function (e) {
      console.log("ServiceWorker phase:", e.target.state);
       });
     }
    });
   navigator.serviceWorker.ready
    .then(function(registration) {
     console.log('ServiceWorker registration ready', registration);
    });
    }
</script>
<style>
p {
  text-align: center;
  font-size: 60px;
  margin-top: 0px;
}
</style>
</head>
<body>

<div class="container-fluid">
  <br>
<p id="demo"></p>
</div>


<nav class="navbar navbar-expand-md bg-dark navbar-dark sticky-top">
  <a class="navbar-brand" href="#">Time</a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapsibleNavbar">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="collapsibleNavbar">
    <ul class="navbar-nav">
      <li class="nav-item">
      <a class="nav-link" href="calendar.html">Calendar</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="timer.html">Timer</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="stopwatch.html">Stopwatch</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="worldclock.html">World Clock</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="timesince.html">Time Since</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="countdown.html">Countdown</a>
    </li>
    </ul>
  </div>  
</nav>
<div ng-app="myApp" ng-controller="myCtrl">
 
    <p>Enter title : <input type="text" ng-model="title" placeholder="Enter title here"></p>
    <p>Enter minutes : <input type="text" ng-model="minutes" placeholder="Enter minutes here"></p>
    <button ng-click="addTimer()">Add</button>

    <div ng-repeat="item in timerlist track by $index">
           
            <div class="card">
              <div class="card-header"><h1 class="card-title">{{item.name}}</h1></div>
              <div id="{{item.name}}" class="card-body">{{item.timeleft}}</div>
              <div class="card-footer"><button ng-click="start($index)" >start</button><button>remove</button></div>
            </div>
    </div>
</div>

<div id="reactapp"></div>


</body>

<script>
//ANGULARJS
var app = angular.module("myApp", []);

app.controller("myCtrl", function($scope, $interval) {

  $scope.theTime = new Date().toLocaleTimeString();
  $scope.timerlist = [];
  $scope.title = "";
  $scope.minutes = "";
  $scope.addTimer = function() {
        var jsonobj = {"name": $scope.title, "duration": $scope.minutes, "timeleft": 30};
        $scope.timerlist.push(jsonobj);
        $rootScope.$apply();

    };
  $scope.start = function(index) {
     var promise;
     var decrementTime = function () {
        $scope.timerlist[index]["timeleft"] = $scope.timerlist[index]["timeleft"] -1;
        if ($scope.timerlist[index]["timeleft"]<1){     $interval.cancel(promise); }
     }
     promise = $interval(decrementTime, 1000);   
    
  };
});

</script>

<script type="text/babel">
//REACTJS
      class Hello extends React.Component {
        render() {
          return <h1>Hello ReactJS!</h1>
        }
      }

      ReactDOM.render(<Hello />, document.getElementById('reactapp'))
</script>



</html>

